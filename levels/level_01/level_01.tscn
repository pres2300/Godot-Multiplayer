[gd_scene load_steps=11 format=3 uid="uid://mou717ft6qef"]

[ext_resource type="Script" uid="uid://c0t0050ulgyqa" path="res://levels/level.gd" id="1_1xo4h"]
[ext_resource type="Texture2D" uid="uid://chwbcf7n2ajtp" path="res://art/platforms/Platformer_spritesheet.png" id="1_y1imb"]
[ext_resource type="Texture2D" uid="uid://bja0wl8tcw71c" path="res://art/backgrounds/background_01.png" id="2_mj7pk"]
[ext_resource type="Texture2D" uid="uid://bujx43rcy5b85" path="res://art/backgrounds/background_02.png" id="3_cwdtg"]
[ext_resource type="PackedScene" uid="uid://ct41jmb7qtkh1" path="res://player/player.tscn" id="4_373x3"]
[ext_resource type="PackedScene" uid="uid://dbp8pya88kdm" path="res://interactables/pressure_plate/pressure_plate.tscn" id="6_71kry"]
[ext_resource type="PackedScene" uid="uid://r4ukta6tg5hx" path="res://interactables/door/door.tscn" id="7_aqob7"]
[ext_resource type="PackedScene" uid="uid://ccl77hha71kd5" path="res://interactables/chest/chest.tscn" id="8_thp0t"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_avrvw"]
texture = ExtResource("1_y1imb")
texture_region_size = Vector2i(128, 128)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(64, -64, 64, 64, -64, 64)
1:0/0 = 0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
2:0/0 = 0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, 64, -64, 64)
3:0/0 = 0
3:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -11.5, 64, -52.5, 5)
0:1/0 = 0
0:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
1:1/0 = 0
1:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
2:1/0 = 0
2:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
3:1/0 = 0
3:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 52, 4, 12, 64, -64, 64)
0:2/0 = 0
0:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-25, -64, 64, -64, 64, 64, -25, 64)
1:2/0 = 0
1:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
2:2/0 = 0
2:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
3:2/0 = 0
3:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
0:3/0 = 0
0:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 30, -64, 30, 64, -64, 64)

[sub_resource type="TileSet" id="TileSet_w52d7"]
tile_size = Vector2i(128, 128)
physics_layer_0/collision_layer = 1
physics_layer_0/collision_mask = 0
sources/0 = SubResource("TileSetAtlasSource_avrvw")

[node name="Level_01" type="Node2D" node_paths=PackedStringArray("spawn_points")]
script = ExtResource("1_1xo4h")
player_scene = ExtResource("4_373x3")
spawn_points = [NodePath("Players/SpawnPoint_0"), NodePath("Players/SpawnPoint_1")]

[node name="Environment" type="Node" parent="."]

[node name="TileMap" type="TileMap" parent="Environment"]
position = Vector2(256, 249)
scale = Vector2(0.5, 0.5)
tile_set = SubResource("TileSet_w52d7")
format = 2
layer_0/tile_data = PackedInt32Array(262144, 131072, 2, 262145, 131072, 2, 262146, 131072, 2, 262147, 131072, 2, 262148, 131072, 2, 262149, 131072, 2, 262150, 131072, 2, 262151, 131072, 2, 196614, 0, 2, 131078, 0, 2, 65542, 0, 2, 6, 196608, 0, 7, 65536, 0, 8, 65536, 0, 9, 65536, 0, 10, 65536, 0, 11, 65536, 0, 12, 65536, 0, 131079, 65536, 1, 196618, 65536, 1, 196619, 65536, 1, 196620, 65536, 1, 65543, 65536, 1, 196615, 65536, 1, 65544, 65536, 1, 131080, 65536, 1, 196616, 65536, 1, 65545, 65536, 1, 131081, 65536, 1, 196617, 65536, 1, 65546, 65536, 1, 131082, 65536, 1, 65547, 65536, 1, 131083, 65536, 1, 65548, 65536, 1, 131084, 65536, 1, 262152, 131072, 2, 262153, 131072, 2, 262154, 131072, 2, 262155, 131072, 2, 262156, 131072, 2, 262157, 131072, 2, 262158, 131072, 2, 262159, 131072, 2, 262160, 131072, 2, 262161, 131072, 2, 262162, 131072, 2, 262163, 131072, 2, 262164, 131072, 2, 262165, 131072, 2, 262166, 131072, 2, 262167, 131072, 2, 262168, 131072, 2, 262169, 131072, 2, 262170, 131072, 2, 262171, 131072, 2, 262172, 131072, 2, 262173, 131072, 2, 262174, 131072, 2, 262175, 131072, 2, 262176, 131072, 2, 262177, 131072, 2, 262178, 131072, 2, 262179, 131072, 2, 262180, 131072, 2, 262181, 131072, 2, 196639, 0, 2, 131103, 0, 2, 65567, 0, 2, 31, 0, 2, -65505, 0, 2, -131041, 0, 2, -196577, 0, 2, -262113, 0, 2, -327649, 0, 2, 196640, 65536, 1, 131104, 65536, 1, 65568, 65536, 1, 32, 65536, 1, -65504, 65536, 1, -327648, 65536, 1, -262112, 65536, 1, -196576, 65536, 1, -131040, 65536, 1, -327647, 65536, 1, -262111, 65536, 1, -196575, 65536, 1, -131039, 65536, 1, -65503, 65536, 1, 33, 65536, 1, 65569, 65536, 1, 131105, 65536, 1, 196641, 65536, 1, -327646, 65536, 1, -262110, 65536, 1, -196574, 65536, 1, -131038, 65536, 1, -65502, 65536, 1, 34, 65536, 1, 65570, 65536, 1, 131106, 65536, 1, 196642, 65536, 1, -327645, 65536, 1, -262109, 65536, 1, -196573, 65536, 1, -131037, 65536, 1, -65501, 65536, 1, 35, 65536, 1, 65571, 65536, 1, 131107, 65536, 1, 196643, 65536, 1, -327644, 65536, 1, -262108, 65536, 1, -196572, 65536, 1, -131036, 65536, 1, -65500, 65536, 1, 36, 65536, 1, 65572, 65536, 1, 131108, 65536, 1, 196644, 65536, 1, -327643, 65536, 1, -262107, 65536, 1, -196571, 65536, 1, -131035, 65536, 1, -65499, 65536, 1, 37, 65536, 1, 65573, 65536, 1, 131109, 65536, 1, 196645, 65536, 1, 327664, 131072, 2, 327665, 131072, 2, 327666, 131072, 2, 327667, 131072, 2, 327668, 131072, 2, 327669, 131072, 2, 327670, 131072, 2, 327671, 131072, 2, 327672, 131072, 2, 327673, 131072, 2, 327674, 131072, 2, 327675, 131072, 2, 327676, 131072, 2, 327677, 131072, 2, 327678, 131072, 2, 327679, 131072, 2, 13, 131072, 0, 65550, 131072, 0, 131087, 131072, 0, 196624, 131072, 0, 65549, 131072, 1, 131085, 65536, 1, 131086, 131072, 1, 196623, 131072, 1, 196621, 65536, 1, 196622, 65536, 1, -262160, 0, 3, -196624, 0, 3, -131088, 0, 3, -65552, 0, 3, -16, 0, 3, 65520, 0, 3, 131056, 0, 3, 196592, 0, 3, 262128, 0, 3, -262165, 65536, 1, -196629, 65536, 1, -131093, 65536, 1, -65557, 65536, 1, -21, 65536, 1, 65515, 65536, 1, 131051, 65536, 1, 196587, 65536, 1, 262123, 65536, 1, -262164, 65536, 1, -196628, 65536, 1, -131092, 65536, 1, -65556, 65536, 1, -20, 65536, 1, 65516, 65536, 1, 131052, 65536, 1, 196588, 65536, 1, 262124, 65536, 1, -262163, 65536, 1, -196627, 65536, 1, -131091, 65536, 1, -65555, 65536, 1, -19, 65536, 1, 65517, 65536, 1, 131053, 65536, 1, 196589, 65536, 1, 262125, 65536, 1, -262162, 65536, 1, -196626, 65536, 1, -131090, 65536, 1, -65554, 65536, 1, -18, 65536, 1, 65518, 65536, 1, 131054, 65536, 1, 196590, 65536, 1, 262126, 65536, 1, -262161, 65536, 1, -196625, 65536, 1, -131089, 65536, 1, -65553, 65536, 1, -17, 65536, 1, 65519, 65536, 1, 131055, 65536, 1, 196591, 65536, 1, 262127, 65536, 1, 327659, 131072, 2, 327660, 131072, 2, 327661, 131072, 2, 327662, 131072, 2, 327663, 131072, 2, -327701, 65536, 1, -327700, 65536, 1, -327699, 65536, 1, -327698, 65536, 1, -327697, 65536, 1, -393184, 65536, 1, -393183, 65536, 1, -393182, 65536, 1, -393181, 65536, 1, -393180, 65536, 1, -393179, 65536, 1, -327706, 65536, 1, -262170, 65536, 1, -196634, 65536, 1, -131098, 65536, 1, -65562, 65536, 1, -26, 65536, 1, 65510, 65536, 1, 131046, 65536, 1, 196582, 65536, 1, 262118, 65536, 1, -327705, 65536, 1, -262169, 65536, 1, -196633, 65536, 1, -131097, 65536, 1, -65561, 65536, 1, -25, 65536, 1, 65511, 65536, 1, 131047, 65536, 1, 196583, 65536, 1, 262119, 65536, 1, -327704, 65536, 1, -262168, 65536, 1, -196632, 65536, 1, -131096, 65536, 1, -65560, 65536, 1, -24, 65536, 1, 65512, 65536, 1, 131048, 65536, 1, 196584, 65536, 1, 262120, 65536, 1, -327703, 65536, 1, -262167, 65536, 1, -196631, 65536, 1, -131095, 65536, 1, -65559, 65536, 1, -23, 65536, 1, 65513, 65536, 1, 131049, 65536, 1, 196585, 65536, 1, 262121, 65536, 1, -327702, 65536, 1, -262166, 65536, 1, -196630, 65536, 1, -131094, 65536, 1, -65558, 65536, 1, -22, 65536, 1, 65514, 65536, 1, 131050, 65536, 1, 196586, 65536, 1, 262122, 65536, 1, 327654, 131072, 2, 327655, 131072, 2, 327656, 131072, 2, 327657, 131072, 2, 327658, 131072, 2, 262182, 131072, 2, 262183, 131072, 2, 262184, 131072, 2, 262185, 131072, 2, 262186, 131072, 2, 262187, 131072, 2, -393178, 65536, 1, -327642, 65536, 1, -262106, 65536, 1, -196570, 65536, 1, -131034, 65536, 1, -65498, 65536, 1, 38, 65536, 1, 65574, 65536, 1, 131110, 65536, 1, 196646, 65536, 1, -393177, 65536, 1, -327641, 65536, 1, -262105, 65536, 1, -196569, 65536, 1, -131033, 65536, 1, -65497, 65536, 1, 39, 65536, 1, 65575, 65536, 1, 131111, 65536, 1, 196647, 65536, 1, -393176, 65536, 1, -327640, 65536, 1, -262104, 65536, 1, -196568, 65536, 1, -131032, 65536, 1, -65496, 65536, 1, 40, 65536, 1, 65576, 65536, 1, 131112, 65536, 1, 196648, 65536, 1, -393175, 65536, 1, -327639, 65536, 1, -262103, 65536, 1, -196567, 65536, 1, -131031, 65536, 1, -65495, 65536, 1, 41, 65536, 1, 65577, 65536, 1, 131113, 65536, 1, 196649, 65536, 1, -393174, 65536, 1, -327638, 65536, 1, -262102, 65536, 1, -196566, 65536, 1, -131030, 65536, 1, -65494, 65536, 1, 42, 65536, 1, 65578, 65536, 1, 131114, 65536, 1, 196650, 65536, 1, -393173, 65536, 1, -327637, 65536, 1, -262101, 65536, 1, -196565, 65536, 1, -131029, 65536, 1, -65493, 65536, 1, 43, 65536, 1, 65579, 65536, 1, 131115, 65536, 1, 196651, 65536, 1, -393232, 65536, 1, -393231, 65536, 1, -393230, 65536, 1, -393229, 65536, 1, -393228, 65536, 1, -393227, 65536, 1, -393226, 65536, 1, -393225, 65536, 1, -393224, 65536, 1, -393223, 65536, 1, -393222, 65536, 1, -393221, 65536, 1, -393220, 65536, 1, -393219, 65536, 1, -393218, 65536, 1, -393217, 65536, 1, -458752, 65536, 1, -458751, 65536, 1, -458750, 65536, 1, -458749, 65536, 1, -458748, 65536, 1, -458747, 65536, 1, -458746, 65536, 1, -458745, 65536, 1, -458744, 65536, 1, -458743, 65536, 1, -458742, 65536, 1, -458741, 65536, 1, -458740, 65536, 1, -458739, 65536, 1, -458738, 65536, 1, -458737, 65536, 1, -458736, 65536, 1, -458735, 65536, 1, -458734, 65536, 1, -458733, 65536, 1, -458732, 65536, 1, -458731, 65536, 1, -458730, 65536, 1, -458729, 65536, 1, -458728, 65536, 1, -458727, 65536, 1, -458726, 65536, 1, -458725, 65536, 1, -458724, 65536, 1, -458723, 65536, 1, -458722, 65536, 1, -458721, 65536, 1, -393242, 65536, 1, -393241, 65536, 1, -393240, 65536, 1, -393239, 65536, 1, -393238, 65536, 1, -393237, 65536, 1, -393236, 65536, 1, -393235, 65536, 1, -393234, 65536, 1, -393233, 65536, 1, -458720, 65536, 1, -458719, 65536, 1, -458718, 65536, 1, -458717, 65536, 1, -458716, 65536, 1, -458715, 65536, 1, -458714, 65536, 1, -458713, 65536, 1, -458712, 65536, 1, -458711, 65536, 1, -458710, 65536, 1, -458709, 65536, 1, -393185, 0, 2, -327696, 0, 3)

[node name="ParallaxBackground" type="ParallaxBackground" parent="Environment"]
offset = Vector2(0, 34.89)
transform = Transform2D(1, 0, 0, 1, 0, 34.89)

[node name="ParallaxTrees" type="ParallaxLayer" parent="Environment/ParallaxBackground"]
motion_scale = Vector2(0.25, 1)
motion_mirroring = Vector2(1334, 0)

[node name="BackgroundTrees" type="Sprite2D" parent="Environment/ParallaxBackground/ParallaxTrees"]
position = Vector2(2, -279.89)
texture = ExtResource("2_mj7pk")
centered = false

[node name="ParallaxHouses" type="ParallaxLayer" parent="Environment/ParallaxBackground"]
position = Vector2(2, -279.89)
motion_scale = Vector2(0.5, 1)
motion_mirroring = Vector2(1334, 0)

[node name="BackgroundHouses" type="Sprite2D" parent="Environment/ParallaxBackground/ParallaxHouses"]
texture = ExtResource("3_cwdtg")
centered = false

[node name="Interactables" type="Node" parent="."]

[node name="PressurePlate" parent="Interactables" instance=ExtResource("6_71kry")]
position = Vector2(396, 503)

[node name="Door" parent="Interactables" instance=ExtResource("7_aqob7")]
position = Vector2(-182, 505)

[node name="Chest" parent="Interactables" instance=ExtResource("8_thp0t")]
position = Vector2(-444, 506)
scale = Vector2(-1, 1)

[node name="Players" type="Node" parent="."]

[node name="PlayersContainer" type="Node2D" parent="Players"]

[node name="PlayerSpawner" type="MultiplayerSpawner" parent="Players"]
_spawnable_scenes = PackedStringArray("uid://ct41jmb7qtkh1")
spawn_path = NodePath("../PlayersContainer")
spawn_limit = 2

[node name="SpawnPoint_0" type="Marker2D" parent="Players"]
position = Vector2(155, 497)

[node name="SpawnPoint_1" type="Marker2D" parent="Players"]
position = Vector2(274, 496)

[connection signal="toggle" from="Interactables/PressurePlate" to="Interactables/Door" method="activate"]
